(this["webpackJsonpreact-pages"]=this["webpackJsonpreact-pages"]||[]).push([[0],{12:function(t,e,a){t.exports=a(19)},17:function(t,e,a){},19:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),s=a(5),r=a.n(s),c=(a(17),a(3)),i=a(1),h=a.n(i),l=a(6),u=a(7),p=a(8),M=a(10),g=a(9),m=a(11),f=a(2),v="AIzaSyDI8c1xJ4xr9VGlhAmSye4-2fWqQ2Dh_gc";function d(t,e,a,n){var o,s,r,c,i,h,l,u,p,M,g,m,f,v,d,w,b=6378137,y=1/298.257223563,j=b*(1-y),k=0,x=function(t){return t/180*Math.PI},O=function(t){return 180*t/Math.PI};o=x(t),r=x(e),i=x(a),h=Math.atan((1-y)*Math.tan(o)),u=Math.atan2(Math.tan(h),Math.cos(i)),g=Math.cos(h)*Math.sin(i),d=(f=(m=1-Math.pow(g,2))*((Math.pow(b,2)-Math.pow(j,2))/Math.pow(j,2)))/1024*(256+f*(f*(74-47*f)-128)),l=n/(j*(v=1+f/16384*(4096+f*(f*(320-175*f)-768))));do{if(M=(2*u+l)/2,p=l,l=n/(j*v)+d*Math.sin(l)*(Math.cos(2*M)+.25*d*(Math.cos(l)*(2*Math.pow(Math.cos(2*M),2)-1)-1/6*d*Math.cos(2*M)*(4*Math.pow(Math.sin(l),2)-3)*(4*Math.pow(Math.cos(2*M),2)-3))),++k>100)return alert("error"),null}while(Math.abs(l-p)>1e-12);return s=Math.atan2(Math.sin(h)*Math.cos(l)+Math.cos(h)*Math.sin(l)*Math.cos(i),(1-y)*Math.sqrt(Math.pow(g,2)+Math.pow(Math.sin(h)*Math.sin(l)-Math.cos(h)*Math.cos(l)*Math.cos(i),2))),c=Math.atan2(Math.sin(l)*Math.sin(i),Math.cos(h)*Math.cos(l)-Math.sin(h)*Math.sin(l)*Math.cos(i))-(1-(w=y/16*m*(4+y*(4-3*m))))*y*g*(l+w*Math.sin(l)*(Math.cos(2*M)+w*Math.cos(l)*(2*Math.pow(Math.cos(2*M),2)-1)))+r,Math.atan(g/(-1*Math.sin(h)*Math.sin(l)+Math.cos(h)*Math.cos(l)*Math.cos(i))),[O(s),O(c)]}function w(t,e,a,n){return b.apply(this,arguments)}function b(){return(b=Object(f.a)(h.a.mark((function t(e,a,n,o){var s,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://vldb.gsi.go.jp/sokuchi/surveycalc/surveycalc/bl2st_calc.pl?outputType=json&ellipsoid=bessel",s="http://vldb.gsi.go.jp/sokuchi/surveycalc/surveycalc/bl2st_calc.pl?outputType=json&ellipsoid=bessel"+("&latitude1="+e+"&longitude1="+a+"&latitude2="+n+"&longitude2="+o),t.next=5,fetch(s);case 5:return r=t.sent,t.next=8,r.json();case 8:return c=t.sent,t.abrupt("return",[c.OutputData.azimuth1,c.OutputData.geoLength]);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e,a,n){return j.apply(this,arguments)}function j(){return(j=Object(f.a)(h.a.mark((function t(e,a,n,o){var s,r,i,l,u,p,M,g,m,f,v,b,y,j;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e,a,n,o);case 2:for(s=t.sent,r=Object(c.a)(s,2),i=r[0],l=r[1],p=(u=[{lat:e,lng:a,heading:i}])[0],M=p.lat,g=p.lng,m=p.heading,console.log(M,g,m),10,f=0;10*f<l;f++)v=d(M,g,m,10),b=Object(c.a)(v,2),y=b[0],j=b[1],u.push({lat:y,lng:j,heading:m}),M=y,g=j,console.log(M,g,m);return t.abrupt("return",u);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var k=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(M.a)(this,Object(g.a)(e).call(this,t))).consClick=function(){var t=a.state.imgs_url;console.log(t)},a.handleChange=function(t){a.setState(Object(l.a)({},t.target.name,t.target.value))},a.handleSubmit=function(t){t.preventDefault(),a.setState({from:"",to:""})},a.viewImgs=function(t){t.preventDefault();var e="https://maps.googleapis.com/maps/api/directions/json?key="+v,n="&origin="+a.state.from+"&destination="+a.state.to;fetch(e+n).then((function(t){return t.json()})).then(function(){var t=Object(f.a)(h.a.mark((function t(e){var n,o,s,r,c,i,l,u,p,M,g,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),n=e.routes[0].legs[0].steps,o=[],s=0;case 4:if(!(s<n.length)){t.next=16;break}return r=n[s].start_location.lat,c=n[s].start_location.lng,i=n[s].end_location.lat,l=n[s].end_location.lng,t.next=11,y(r,c,i,l);case 11:for(u=t.sent,p=0;p<u.length;p++)M=u[p].lat+","+u[p].lng,g=u[p].heading,m="https://maps.googleapis.com/maps/api/streetview?size=400x400&location="+M+"&fov=120&heading="+g+"&pitch=10&key="+v,o.push(m);case 13:s++,t.next=4;break;case 16:a.setState({imgs_url:o});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},a.state={from:"",to:"",imgs_url:[]},a}return Object(m.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this.state,e=(t.todos,t.imgs_url);return o.a.createElement("div",null,o.a.createElement("h1",null,"\u9053\u3059\u3058\u898b\u305b\u592a\u90ce"),o.a.createElement("p",null,"From"),o.a.createElement("input",{type:"text",name:"from",onChange:this.handleChange,value:this.state.from}),o.a.createElement("p",null,"To"),o.a.createElement("input",{type:"text",name:"to",onChange:this.handleChange,value:this.state.to}),o.a.createElement("button",{onClick:this.viewImgs},"view"),o.a.createElement("br",null),e.map((function(t,e){return o.a.createElement("div",null,o.a.createElement("img",{src:t}))})))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.98d85344.chunk.js.map